{
  "filename": "api-boot-mail.md",
  "__html": "<p><code>ApiBoot</code>的邮件组件使用<code>阿里云</code>的邮件服务作为基础支持，提供发送文本、HTML内容的邮件。</p>\n<blockquote>\n<p>前提：需要到阿里云控制台开通邮件服务。</p>\n</blockquote>\n<h2>配置参数</h2>\n<table>\n<thead>\n<tr>\n<th>参数名称</th>\n<th>默认值</th>\n<th>是否必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>api.boot.mail.access-key</code></td>\n<td>无</td>\n<td>是</td>\n<td>阿里云控制台提供的AccessKey</td>\n</tr>\n<tr>\n<td><code>api.boot.mail.access-secret</code></td>\n<td>无</td>\n<td>是</td>\n<td>阿里云控制台提供的AccessSecret</td>\n</tr>\n<tr>\n<td><code>api.boot.mail.account-name</code></td>\n<td>无</td>\n<td>是</td>\n<td>发送邮件时显示的邮箱账号</td>\n</tr>\n<tr>\n<td><code>api.boot.mail.reply-to-address</code></td>\n<td>true</td>\n<td>否</td>\n<td>使用阿里云管理控制台中配置的回复地址（必须验证状态）。</td>\n</tr>\n<tr>\n<td><code>api.boot.mail.address-type</code></td>\n<td>1</td>\n<td>否</td>\n<td>取值范围 0~1: 0 为随机账号；1 为发信地址。</td>\n</tr>\n<tr>\n<td><code>api.boot.mail.from-alias</code></td>\n<td>ApiBootMail</td>\n<td>否</td>\n<td>发送邮件时显示的邮箱昵称</td>\n</tr>\n<tr>\n<td><code>api.boot.mail.region</code></td>\n<td>无</td>\n<td>是</td>\n<td>阿里云的邮箱服务区域，根据购买区域配置</td>\n</tr>\n</tbody>\n</table>\n<h2>发送邮件</h2>\n<p><code>ApiBoot</code>提供两种内容的邮件发送，分别是：<code>Text</code>、<code>Html</code>，可应对多种发送场景使用，也可以一次性向多个邮箱发送相同的邮件内容。</p>\n<h4>ApiBootMailRequest</h4>\n<p><code>ApiBootMailRequest</code>是发送邮件所需的请求对象，对象内的方法描述如下所示：</p>\n<ul>\n<li><code>contentType</code>：邮件内容类型，<code>TEXT</code>(文本邮件)、<code>HTML</code>(网页邮件)，默认为<code>TEXT</code></li>\n<li><code>content</code>：邮件内容</li>\n<li><code>toAddress</code>：接收邮件的邮箱列表</li>\n<li><code>subject</code>：邮件主题</li>\n<li><code>fromAlias</code>：发送人昵称，如果不传递则使用<code>api.boot.mail.from-alias</code>配置内容。</li>\n</ul>\n<h4>ApiBootMailResponse</h4>\n<ul>\n<li><code>success</code>：true：邮件发送成功，false：邮件发送失败</li>\n</ul>\n<h3>发送文本内容邮件</h3>\n<p><code>ApiBoot</code>默认的内容类型为<code>Text</code>文本内容，所以我们在发送时可以不配置<code>内容类型</code>，只需要传递<code>邮件内容</code>、<code>收件邮箱</code>、<code>主题</code>即可，发送示例代码如下所示：</p>\n<pre><code class=\"language-java\"><span class=\"hljs-comment\">// 构建发送对象</span>\nApiBootMailRequest request = ApiBootMailRequest.builder()\n  .content(<span class=\"hljs-string\">\"ApiBoot Mail 发版啦~~\"</span>)\n  .toAddress(Arrays.asList(<span class=\"hljs-string\">\"yuqiyu@vip.qq.com\"</span>))\n  .subject(<span class=\"hljs-string\">\"ApiBoot 新版本发布啦！\"</span>)\n  .build();\n<span class=\"hljs-comment\">// 执行发送 &amp; 获取相应对象</span>\nApiBootMailResponse response = apiBootMailService.sendMail(request);\n<span class=\"hljs-comment\">// 判断是否发送成功</span>\n<span class=\"hljs-keyword\">if</span> (response.isSuccess()) {\n  System.out.println(<span class=\"hljs-string\">\"邮件发送成功.\"</span>);\n}\n</code></pre>\n<h3>发送HTML内容邮件</h3>\n<pre><code class=\"language-java\"><span class=\"hljs-comment\">// 构建发送对象</span>\nApiBootMailRequest request = ApiBootMailRequest.builder()\n  .contentType(ContentType.HTML)\n  .content(<span class=\"hljs-string\">\"&lt;a href='http://blog.yuqiyu.com'&gt;点击访问博客&lt;/a&gt;\"</span>)\n  .toAddress(Arrays.asList(<span class=\"hljs-string\">\"yuqiyu@vip.qq.com\"</span>))\n  .subject(<span class=\"hljs-string\">\"ApiBoot 新版本发布啦！\"</span>)\n  .build();\n<span class=\"hljs-comment\">// 执行发送 &amp; 获取相应对象</span>\nApiBootMailResponse response = apiBootMailService.sendMail(request);\n<span class=\"hljs-comment\">// 判断是否发送成功</span>\n<span class=\"hljs-keyword\">if</span> (response.isSuccess()) {\n  System.out.println(<span class=\"hljs-string\">\"邮件发送成功.\"</span>);\n}\n</code></pre>\n",
  "link": "/zh-cn/docs/api-boot-mail.html",
  "meta": {
    "title": "ApiBoot Mail 使用文档"
  }
}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="api-boot-swagger" />
	<meta name="description" content="api-boot-swagger" />
	<!-- 网页标签标题 -->
	<title>ApiBoot Swagger 使用文档</title>
	<link rel="shortcut icon" href="/img/favicon.ico" />
	<link rel="stylesheet" href="/build/documentation.css" />
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-149679255-1"></script>
	<script>
  		window.dataLayer = window.dataLayer || [];
  		function gtag(){dataLayer.push(arguments);}
  		gtag('js', new Date());
  		gtag('config', 'UA-149679255-1');
	</script>
</head>

<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="/img/apiboot-colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">En</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="menu-item menu-item-normal"><a href="http://blog.yuqiyu.com" target="_self">作者博客</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/zh-cn/docs/quick-start.html" target="_self">文档</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>ApiBoot 文档</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>ApiBoot</span><ul><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>ApiBoot是什么？<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/introduce.html" target="_self">ApiBoot简介</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/faq.html" target="_self">FAQ</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/update-log.html" target="_self">更新日志</a></li></ul></li><li style="height:252px;overflow:hidden" class="menu-item menu-item-level-2"><span>ApiBoot往期版本文档<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/history-reference-guide.html" target="_self">往期文档说明</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/2.1.4.RELEASE/reference-guide.html" target="_self">2.1.4.RELEASE</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/2.1.3.RELEASE/reference-guide.html" target="_self">2.1.3.RELEASE</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/2.1.2.RELEASE/reference-guide.html" target="_self">2.1.2.RELEASE</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/2.1.1.RELEASE/reference-guide.html" target="_self">2.1.1.RELEASE</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/2.1.0.RELEASE/reference-guide.html" target="_self">2.1.0.RELEASE</a></li></ul></li><li style="height:756px;overflow:hidden" class="menu-item menu-item-level-2"><span>快速开始<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/quick-start.html" target="_self">第一个ApiBoot应用程序</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/version-rely.html" target="_self">版本依赖</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-logging-admin-ui.html" target="_self">ApiBoot Logging Admin UI</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-logging-admin.html" target="_self">ApiBoot Logging Admin</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-logging.html" target="_self">ApiBoot Logging</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-security.html" target="_self">ApiBoot Security</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-oauth.html" target="_self">ApiBoot OAuth</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-swagger.html" target="_self">ApiBoot Swagger</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-quartz.html" target="_self">ApiBoot Quartz</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-rate-limiter.html" target="_self">ApiBoot RateLimiter</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-datasource-switch.html" target="_self">ApiBoot DataSource Switch</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-mybatis-enhance.html" target="_self">ApiBoot Mybatis Enhance</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-mybatis-enhance-codegen.html" target="_self">ApiBoot Mybatis Enhance Codegen</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-mybatis-pageable.html" target="_self">ApiBoot Mybatis Pageable</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-resource-load.html" target="_self">ApiBoot Resource Load</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-message-push.html" target="_self">ApiBoot Message Push</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-http-message-converter.html" target="_self">ApiBoot HttpMessage Converter</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-oss.html" target="_self">ApiBoot AliYun OSS</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-mail.html" target="_self">ApiBoot AliYun Mail</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-sms.html" target="_self">ApiBoot AliYun SMS</a></li></ul></li><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>运维指南<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/deploy.html" target="_self">打包部署</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/domain.html" target="_self">域名解析</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/nginx-load-balance.html" target="_self">Nginx负载均衡</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><span>开源共建<img style="transform:rotate(-90deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/contribution.html" target="_self">贡献源码</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/conventions.html" target="_self">编码约定</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/new-starter.html" target="_self">新建组件</a></li><li class="menu-item menu-item-level-3"><a href="/zh-cn/docs/api-boot-plan.html" target="_self">ApiBoot规划</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>ApiBoot 整合 Swagger2</h1>
<p><code>ApiBoot</code>通过整合<code>Swagger2</code>完成自动化接口文档生成，只需要一个简单的注解我们就可以实现文档的开启，而且文档上面的所有元素都可以自定义配置，通过下面的介绍来详细了解<code>ApiBoot Swagger</code>的简易之处。</p>
<h2>引入ApiBoot Swagger</h2>
<p>在<code>pom.xml</code>配置文件内通过添加如下依赖进行集成：</p>
<pre><code class="language-xml"><span class="hljs-comment">&lt;!--ApiBoot Swagger--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.minbox.framework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>api-boot-starter-swagger<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<blockquote>
<p>注意：如果未添加<code>ApiBoot</code>版本依赖，请访问<a href="/zh-cn/docs/version-rely.html">版本依赖</a>查看添加方式。</p>
</blockquote>
<h2>@EnableApiBootSwagger</h2>
<p>在添加依赖后需要通过<code>@EnableApiBootSwagger</code>注解进行开启<code>ApiBoot Swagger</code>相关的配置信息自动化构建，可以配置在XxxApplication入口类上，也可以是配置类，让<code>SpringBoot</code>加载到即可。</p>
<h2>相关配置</h2>
<table>
<thead>
<tr>
<th>配置参数</th>
<th style="text-align:left">参数介绍</th>
<th style="text-align:left">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>api.boot.swagger.enable</code></td>
<td style="text-align:left">是否启用</td>
<td style="text-align:left">true</td>
</tr>
<tr>
<td><code>api.boot.swagger.title</code></td>
<td style="text-align:left">文档标题</td>
<td style="text-align:left">ApiBoot快速集成Swagger文档</td>
</tr>
<tr>
<td><code>api.boot.swagger.description</code></td>
<td style="text-align:left">文档描述</td>
<td style="text-align:left">ApiBoot通过自动化配置快速集成Swagger2文档，仅需一个注解、一个依赖即可。</td>
</tr>
<tr>
<td><code>api.boot.swagger.base-package</code></td>
<td style="text-align:left">文档扫描的package</td>
<td style="text-align:left">XxxApplication同级以及子级package</td>
</tr>
<tr>
<td><code>api.boot.swagger.version</code></td>
<td style="text-align:left">文档版本号</td>
<td style="text-align:left">api.boot.version</td>
</tr>
<tr>
<td><code>api.boot.swagger.license</code></td>
<td style="text-align:left">文档版权</td>
<td style="text-align:left">ApiBoot</td>
</tr>
<tr>
<td><code>api.boot.swagger.license-url</code></td>
<td style="text-align:left">文档版权地址</td>
<td style="text-align:left"><a href="https://github.com/hengboy/api-boot">https://github.com/hengboy/api-boot</a></td>
</tr>
<tr>
<td><code>api.boot.swagger.contact.name</code></td>
<td style="text-align:left">文档编写人名称</td>
<td style="text-align:left">恒宇少年</td>
</tr>
<tr>
<td><code>api.boot.swagger.contact.website</code></td>
<td style="text-align:left">文档编写人主页</td>
<td style="text-align:left"><a href="http://blog.yuqiyu.com">http://blog.yuqiyu.com</a></td>
</tr>
<tr>
<td><code>api.boot.swagger.contact.email</code></td>
<td style="text-align:left">文档编写人邮箱地址</td>
<td style="text-align:left"><a href="mailto:jnyuqy@gmail.com">jnyuqy@gmail.com</a></td>
</tr>
<tr>
<td><code>api.boot.swagger.authorization.name</code></td>
<td style="text-align:left">整合Oauth2后授权名称</td>
<td style="text-align:left">ApiBoot Security Oauth 认证头信息</td>
</tr>
<tr>
<td><code>api.boot.swagger.authorization.key-name</code></td>
<td style="text-align:left">整合Oauth2后授权Header内的key-name</td>
<td style="text-align:left">Authorization</td>
</tr>
<tr>
<td><code>api.boot.swagger.authorization.auth-regex</code></td>
<td style="text-align:left">整合Oauth2后授权表达式</td>
<td style="text-align:left">^.*$</td>
</tr>
</tbody>
</table>
<p>以上是目前版本的所有配置参数，大多数都存在默认值，可自行修改。</p>
<h2>整合ApiBoot Security Oauth</h2>
<p>如果你的项目添加了<code>Oauth2</code>资源保护，在<code>Swagger</code>界面上访问接口时需要设置<code>AccessToken</code>到<code>Header</code>才可以完成接口的访问，<code>ApiBoot Security Oauth</code>默认开放<code>Swagger</code>所有相关路径，如果项目内并非通过<code>ApiBoot Security Oauth2</code>来做安全认证以及资源保护，需要自行开放<code>Swagger</code>相关路径。</p>
<p>整合<code>ApiBoot Security Oauth</code>很简单，访问<a href="https://github.com/hengboy/api-boot/blob/master/api-boot-samples/api-boot-sample-security-oauth-jwt/README.md">ApiBoot Security Oauth</a> 查看。</p>
<h2>携带Token访问Api</h2>
<p>启动添加<code>ApiBoot-Swagger</code>依赖的项目后，访问<a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a>页面查看<code>Swagger</code>所生成的全部文档，页面右侧可以看到<strong>Authorize</strong>，点击后打开配置<code>AccessToken</code>的界面，配置的<code>AccessToken</code>必须携带类型，如：<code>Bearer 0798e1c7-64f4-4a2f-aad1-8c616c5aa85b</code>。</p>
<blockquote>
<p>注意：通过<code>ApiBoot Security Oauth</code>所获取的<code>AccessToken</code>类型都为<code>Bearer</code>。</p>
</blockquote>
<h2>ApiBoot Swagger + @EnableWebMvc = 404？</h2>
<p><code>@EnableWebMvc</code>注解使用后会覆盖掉<code>SpringBoot</code>默认的资源映射路径<code>/static</code>, <code>/public</code>, <code>META-INF/resources</code>, <code>/resources</code>等存放静态资源的目录。</p>
<p><code>Swagger</code>资源都存在在<code>META-INF/resources</code>目录下，所以会出现404的情况，只需要添加自定义的资源映射处理就可以再次访问默认资源路径下的文件，如下所示：</p>
<pre><code class="language-java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebMvc</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiBootResourceConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">WebMvcConfigurer</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addResourceHandlers</span><span class="hljs-params">(ResourceHandlerRegistry registry)</span> </span>{
        registry.addResourceHandler(<span class="hljs-string">"/**"</span>).addResourceLocations(<span class="hljs-string">"/"</span>);
    }
}
</code></pre>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/apiboot-gray.png"/><div class="cols-container"><div class="col col-12"><h3>愿景</h3><p>ApiBoot致力于解决快速开发接口服务、集成第三方依赖</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/docs/introduce.html" target="_self">概览</a></dd><dd><a href="/zh-cn/docs/quick-start.html" target="_self">快速开始</a></dd><dd><a href="/zh-cn/docs/faq.html" target="_self">开发者指南</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="http://blog.yuqiyu.com" target="_self">作者博客</a></dd><dd><a href="http://blog.yuqiyu.com/tags/ApiBoot/" target="_self">文章专题</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2019 恒宇少年 - 于起宇</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
	</script>
	<script src="/build/documentation.js"></script>
</body>

</html>